webpackJsonp([2],{GatU:function(e,t){},IcnI:function(e,t,n){"use strict";var o={};n.d(o,"loginIfo",function(){return s}),n.d(o,"scrollIfo",function(){return c}),n.d(o,"swiperPictureIfo",function(){return u}),n.d(o,"movingDirectionY",function(){return p});var i,r=n("7+uW"),a=n("NYxO"),s=function(e){return e.loginIfo},c=function(e){return e.scroll.scrollIfo},u=function(e){return e.swiperPictureIfo},p=function(e){return e.movingDirectionY},l=n("mUbh"),f=n("bOdI"),d=n.n(f),m=n("mvHQ"),h=n.n(m),I={loginIfo:JSON.parse(sessionStorage.getItem("loginIfo")||"{}"),swiperPictureIfo:{index:0,list:[],x:0,y:0,show:!1},movingDirectionY:1},g=(i={},d()(i,"SET_LOGIN",function(e,t){e.loginIfo=t,sessionStorage.setItem("loginIfo",h()(e.loginIfo))}),d()(i,"LOGOUT",function(e){e.loginIfo={},sessionStorage.setItem("loginIfo",h()(e.loginIfo))}),d()(i,"SET_HEAD_THUMB",function(e,t){e.loginIfo.data.head_thumb=t,sessionStorage.setItem("loginIfo",h()(e.loginIfo))}),d()(i,"SET_NICKNAME",function(e,t){e.loginIfo.data.nickname=t,sessionStorage.setItem("loginIfo",h()(e.loginIfo))}),d()(i,"SET_BACKGROUND",function(e,t){e.loginIfo.data.background=t,sessionStorage.setItem("loginIfo",h()(e.loginIfo))}),d()(i,"SET_SWIPER_PICTURE",function(e,t){e.swiperPictureIfo=t,sessionStorage.setItem("swiperPictureIfo",h()(e.swiperPictureIfo))}),d()(i,"SET_MOVINGDIRECTIONY",function(e,t){e.movingDirectionY=t,sessionStorage.setItem("movingDirectionY",h()(e.movingDirectionY))}),i),w={state:{scrollIfo:[{name:"recommend",pageId:1,position:0},{name:"post",pageId:1,position:0},{name:"reply",pageId:1,position:0},{name:"myPost",pageId:1,position:0}]},mutations:d()({},"SET_PAGE_SCROLL",function(e,t){var n=t.name,o=t.position,i=t.pageId,r=e.scrollIfo.findIndex(function(e){return e.name===n});e.scrollIfo[r].pageId=i,e.scrollIfo[r].position=o})};r.default.use(a.a);t.a=new a.a.Store({getters:o,actions:l,state:I,mutations:g,modules:{scroll:w}})},MkCj:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={};n.d(o,"getAge",function(){return z}),n.d(o,"getPastTime",function(){return L}),n.d(o,"jsonParse",function(){return V});var i=n("fZjL"),r=n.n(i),a=n("7+uW"),s=n("NYxO"),c=n("IcnI"),u=n("Dd8w"),p=n.n(u),l=n("UxSn"),f={name:"App",computed:p()({},Object(s.b)(["swiperPictureIfo"])),methods:{beforeEnter:function(e){Velocity(e,{translateX:this.swiperPictureIfo.x+"px",translateY:this.swiperPictureIfo.y+"px",scale:0,opacity:0},{duration:0})},enter:function(e,t){Velocity(e,{translateX:0,translateY:0,scale:1,opacity:1},{duration:300})},leave:function(e,t){Velocity(e,{translateX:this.swiperPictureIfo.x+"px",translateY:this.swiperPictureIfo.y+"px",scale:0,opacity:0},{complete:t})},closeSwiper:function(){this.swiperPictureIfo.show=!1,this.$store.commit("SET_SWIPER_PICTURE",this.swiperPictureIfo)}},components:{SwiperZoom:l.a}},d={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("transition",{attrs:{name:"slide-fade",mode:"out-in"}},[n("router-view")],1),e._v(" "),n("transition",{attrs:{css:!1},on:{"before-enter":e.beforeEnter,enter:e.enter,leave:e.leave}},[e.swiperPictureIfo.show?n("SwiperZoom",{attrs:{index:e.swiperPictureIfo.index,data:e.swiperPictureIfo.list},on:{closeSwiper:e.closeSwiper}}):e._e()],1)],1)},staticRenderFns:[]};var m=n("VU/8")(f,d,!1,function(e){n("iWGh")},null,null).exports,h=n("/ocq"),I=function(e){return function(t){return n.e(0).then(function(){var o=[n("gU6J")("./"+e)];t.apply(null,o)}.bind(this)).catch(n.oe)}},g=I("welcome/index"),w=I("recommend/index"),v=I("theme/index"),S=I("theme/search"),_=I("theme/add"),x=I("post/index"),b=I("post/page"),P=I("sub-reply/index"),E=I("main/index"),y=I("user/index"),T=I("user/login"),M=I("user/register"),O=I("user/menu"),D=I("user/update-pwd"),N=I("user/update-nickname"),U=I("user/update-head-thumb"),Y=I("user/background"),C=I("new-message/index"),A=I("new-message/details");a.default.use(h.a);var R=new h.a({routes:[{path:"/",component:g},{path:"/main",component:E,children:[{path:"/",redirect:"recommend"},{path:"recommend",component:w},{path:"theme",component:v}]},{path:"/post/:id",component:x},{path:"/post_page/:id",component:b},{path:"/sub_reply/:id/:index/:builderId",component:P},{path:"/search_theme",component:S},{path:"/add_theme",component:_,meta:{requireAuth:!0}},{path:"/user",component:y},{path:"/login",component:T},{path:"/register",component:M},{path:"/user_menu",component:O},{path:"/update_pwd",component:D},{path:"/update_nickname",component:N},{path:"/update_head_thumb",component:U},{path:"/background",component:Y},{path:"/new_message",component:C},{path:"/new_message_details/:id/:builderId/:subReplyId",component:A}]}),k=n("mtWM"),G=n.n(k),W=n("Rf8U"),j=n.n(W),z=(n("MkCj"),n("WEnT"),function(e){var t=parseInt(e),n=new Date,o=new Date(t);if(n-o<0)return"";var i=parseInt((n-o)/31536e6);return 0!==i?i+"年":Math.ceil((n-o)/2592e6)>1?Math.ceil((n-o)/2592e6)+"个月":Math.ceil((n-o)/6048e5)>1?Math.ceil((n-o)/6048e5)+"周":Math.ceil((n-o)/864e5)+"天"}),L=function(e){var t=new Date(parseInt(e)),n=Math.ceil(new Date-t);if(n<864e5){var o=Math.ceil(n/36e5);if(o>1)return o+"小时前";var i=Math.ceil(n/6e4);return i>1?i+"分钟前":"刚才"}return t.getFullYear()+"-"+t.getMonth()+"-"+t.getDate()},V=function(e){return JSON.parse(e)},H=n("Au9i"),q=n.n(H),J=(n("d8/S"),n("7QTg")),$=n.n(J),F=(n("v2ns"),n("86jz")),X=n.n(F);n("toYN");a.default.config.productionTip=!1,a.default.use(q.a),G.a.defaults.withCredentials=!0,a.default.use(j.a,G.a),a.default.use(s.a),a.default.use($.a),a.default.use(X.a),r()(o).forEach(function(e){a.default.filter(e,o[e])}),R.beforeEach(function(e,t,n){e.meta.requireAuth?c.a.state.loginIfo.isLogin?n():n({path:"/login",query:{redirect:e.fullPath}}):n()}),a.default.directive("focus",{inserted:function(e,t){t.value&&e.focus()}}),new a.default({el:"#app",router:R,store:c.a,components:{App:m},template:"<App/>"})},UxSn:function(e,t,n){"use strict";var o={props:["index","data"],data:function(){var e=this;return{swiperOption:{zoom:!0,initialSlide:e.index,on:{click:function(){e.closeSwiper()}}}}},mounted:function(){console.log("this is current swiper instance object",this.swiper)},methods:{closeSwiper:function(){this.$emit("closeSwiper","")}}},i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"zoom-container"},[t("swiper",{ref:"mySwiper",attrs:{options:this.swiperOption}},[this._l(this.data,function(e){return t("swiper-slide",[t("div",{staticClass:"swiper-zoom-container"},[t("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e,expression:"item"}]})])])}),this._v(" "),t("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"}),this._v(" "),t("div",{staticClass:"swiper-scrollbar",attrs:{slot:"scrollbar"},slot:"scrollbar"})],2)],1)},staticRenderFns:[]};var r=n("VU/8")(o,i,!1,function(e){n("GatU")},"data-v-2200d0e2",null);t.a=r.exports},WEnT:function(e,t){},"d8/S":function(e,t){},iWGh:function(e,t){},mUbh:function(e,t){},toYN:function(e,t){},v2ns:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.cd5d0c93abf9f10337a8.js.map